<FixedStructure xmlns="http://v8.1c.ru/8.1/data/core" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="FixedStructure">
	<Property name="Ключ">
		<Value xmlns:d3p1="http://v8.1c.ru/8.1/data/enterprise/current-config" xsi:type="d3p1:InformationRegisterRecordKey.SUI_ДополнительныеНастройкиТаблицИнтеграции">
			<d3p1:ТаблицаИнтеграции>ШтрихкодыУпаковок</d3p1:ТаблицаИнтеграции>
		</Value>
	</Property>
	<Property name="Данные">
		<Value xsi:type="Structure">
			<Property name="ДанныеНастройки">
				<Value xsi:type="Structure">
					<Property name="АлгоритмНормализацииЗначенияШтрихкода">
						<Value xsi:type="Structure">
							<Property name="Тип">
								<Value xmlns:d9p1="http://v8.1c.ru/8.1/data/enterprise/current-config" xsi:type="d9p1:EnumRef.SUI_ТипыАлгоритмов">Произвольный</Value>
							</Property>
							<Property name="Алгоритм">
								<Value xsi:type="xs:string">РезультатРазбора = РазборКодаМаркировкиИССлужебный.РазобратьКодМаркировки(ЗначениеШтрихкода);ЗначениеШтрихкода = ?(ЗначениеЗаполнено(РезультатРазбора), РезультатРазбора.НормализованныйКодМаркировки, "");</Value>
							</Property>
						</Value>
					</Property>
					<Property name="АлгоритмСозданияШтрихкодаУпаковки">
						<Value xsi:type="Structure">
							<Property name="Тип">
								<Value xmlns:d9p1="http://v8.1c.ru/8.1/data/enterprise/current-config" xsi:type="d9p1:EnumRef.SUI_ТипыАлгоритмов">Произвольный</Value>
							</Property>
							<Property name="Алгоритм">
								<Value xsi:type="xs:string">ШтрихкодУпаковки = Справочники.ШтрихкодыУпаковокТоваров.ПолучитьПоЗначениюШтрихкода(ЗначениеШтрихкода);Если ШтрихкодУпаковки = Неопределено Тогда		РезультатРазбора = РазборКодаМаркировкиИССлужебный.РазобратьКодМаркировки(ЗначениеШтрихкода);		Если ЗначениеЗаполнено(РезультатРазбора) Тогда				СтруктураСоздания = Справочники.ШтрихкодыУпаковокТоваров.СтруктураСозданияШтрихкодаУпаковки();		СтруктураСоздания.Номенклатура = Номенклатура;		СтруктураСоздания.Характеристика = Характеристика;		СтруктураСоздания.Серия = Серия;		СтруктураСоздания.Упаковка = Упаковка;		СтруктураСоздания.Штрихкод = РезультатРазбора.НормализованныйКодМаркировки;		СтруктураСоздания.ТипШтрихкода = РезультатРазбора.ТипШтрихкода;		СтруктураСоздания.ТипУпаковки = Перечисления.ТипыУпаковок.МаркированныйТовар;				ДополнительныеПараметрыСоздания = Справочники.ШтрихкодыУпаковокТоваров			.ДополнительныеПараметрыСозданияШтрихкодовУпаковок();				ШтрихкодУпаковки = Справочники.ШтрихкодыУпаковокТоваров.СоздатьШтрихкодУпаковки(СтруктураСоздания, , , , 			ДополнительныеПараметрыСоздания);			КонецЕсли;	КонецЕсли;ШтрихкодТранспортнойУпаковки = Справочники.ШтрихкодыУпаковокТоваров.ПолучитьПоЗначениюШтрихкода(	ЗначениеШтрихкодаТранспортнойУпаковки);Если ШтрихкодТранспортнойУпаковки = Неопределено Тогда		РезультатРазбора = РазборКодаМаркировкиИССлужебный.РазобратьКодМаркировки(ЗначениеШтрихкодаТранспортнойУпаковки);		Если ЗначениеЗаполнено(РезультатРазбора) Тогда				СтруктураСоздания = Справочники.ШтрихкодыУпаковокТоваров.СтруктураСозданияШтрихкодаУпаковки();		СтруктураСоздания.Штрихкод = РезультатРазбора.НормализованныйКодМаркировки;		СтруктураСоздания.ТипШтрихкода = РезультатРазбора.ТипШтрихкода;				Если РезультатРазбора.ВидУпаковки = Перечисления.ВидыУпаковокИС.Логистическая И			РезультатРазбора.СоставКодаМаркировки.Свойство("GTIN") И			ЗначениеЗаполнено(РезультатРазбора.СоставКодаМаркировки.GTIN) Тогда			СтруктураСоздания.ТипУпаковки = Перечисления.ТипыУпаковок.МонотоварнаяУпаковка;		Иначе			СтруктураСоздания.ТипУпаковки = Перечисления.ТипыУпаковок.МультитоварнаяУпаковка;		КонецЕсли;				ДополнительныеПараметрыСоздания = Справочники.ШтрихкодыУпаковокТоваров			.ДополнительныеПараметрыСозданияШтрихкодовУпаковок();				ВложенныеШтрихкоды = ?(ЗначениеЗаполнено(ШтрихкодУпаковки),			ОбщегоНазначенияКлиентСервер.ЗначениеВМассиве(ШтрихкодУпаковки),			Неопределено);				ШтрихкодТранспортнойУпаковки = Справочники.ШтрихкодыУпаковокТоваров.СоздатьШтрихкодУпаковки(			СтруктураСоздания, ВложенныеШтрихкоды, , , ДополнительныеПараметрыСоздания);			КонецЕсли;	Иначе		ЗначенияРеквизитов = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ШтрихкодТранспортнойУпаковки, 		"ТипУпаковки,ВложенныеШтрихкоды.Штрихкод");		Если ЗначенияРеквизитов.ТипУпаковки = Перечисления.ТипыУпаковок.МонотоварнаяУпаковка Или		ЗначенияРеквизитов.ТипУпаковки = Перечисления.ТипыУпаковок.МультитоварнаяУпаковка Тогда				Если ЗначениеЗаполнено(ШтрихкодУпаковки) Тогда						РезультатЗапроса = ЗначенияРеквизитов.ВложенныеШтрихкодыШтрихкод;						Если РезультатЗапроса.Пустой() Тогда				ДобавитьВложенныйШтрихкод = Истина;			Иначе								Выборка = РезультатЗапроса.Выбрать();								ПараметрыОтбора = Новый Структура();				ПараметрыОтбора.Вставить("Штрихкод", ШтрихкодУпаковки);								ДобавитьВложенныйШтрихкод = Не Выборка.НайтиСледующий(ПараметрыОтбора);							КонецЕсли;						Если ДобавитьВложенныйШтрихкод Тогда								ШтрихкодТранспортнойУпаковкиОбъект = ШтрихкодТранспортнойУпаковки.ПолучитьОбъект();								НоваяСтрокаВложенныеШтрихкоды = ШтрихкодТранспортнойУпаковкиОбъект.ВложенныеШтрихкоды.Добавить();				НоваяСтрокаВложенныеШтрихкоды.Штрихкод = ШтрихкодУпаковки;								ШтрихкодТранспортнойУпаковкиОбъект.Записать();							КонецЕсли;					КонецЕсли;			Иначе		ШтрихкодТранспортнойУпаковки = Справочники.ШтрихкодыУпаковокТоваров.ПустаяСсылка();	КонецЕсли;	КонецЕсли;</Value>
							</Property>
						</Value>
					</Property>
				</Value>
			</Property>
		</Value>
	</Property>
</FixedStructure>