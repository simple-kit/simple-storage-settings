<FixedStructure xmlns="http://v8.1c.ru/8.1/data/core" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="FixedStructure">
	<Property name="Ключ">
		<Value xmlns:d3p1="http://v8.1c.ru/8.1/data/enterprise/current-config" xsi:type="d3p1:InformationRegisterRecordKey.SUI_ДополнительныеНастройкиТаблицИнтеграции">
			<d3p1:ТаблицаИнтеграции>СерииНоменклатуры</d3p1:ТаблицаИнтеграции>
		</Value>
	</Property>
	<Property name="Данные">
		<Value xsi:type="Structure">
			<Property name="АлгоритмСозданияСерииНоменклатуры">
				<Value xsi:type="Structure">
					<Property name="Алгоритм">
						<Value xsi:type="xs:string">Запрос = Новый Запрос;Запрос.МенеджерВременныхТаблиц = Новый МенеджерВременныхТаблиц;Запрос.УстановитьПараметр("ТаблицаВходныеДанные", ТаблицаСерий);Запрос.Текст =	"ВЫБРАТЬ	|	ВЫРАЗИТЬ(ТаблицаВходныеДанные.Серия КАК Справочник.СерииНоменклатуры) КАК Серия,	|	ВЫРАЗИТЬ(ТаблицаВходныеДанные.Номенклатура КАК Справочник.Номенклатура) КАК Номенклатура,	|	ТаблицаВходныеДанные.Наименование КАК Наименование,	|	ТаблицаВходныеДанные.Номер КАК Номер,	|	ТаблицаВходныеДанные.ДатаПроизводства КАК ДатаПроизводства,	|	ТаблицаВходныеДанные.ГоденДо КАК ГоденДо	|ПОМЕСТИТЬ втВходныеДанные	|ИЗ	|	&amp;ТаблицаВходныеДанные КАК ТаблицаВходныеДанные	|	|ИНДЕКСИРОВАТЬ ПО	|	Номенклатура	|;	|	|////////////////////////////////////////////////////////////////////////////////	|ВЫБРАТЬ РАЗЛИЧНЫЕ	|	втВходныеДанные.Номенклатура КАК Номенклатура,	|	втВходныеДанные.Наименование КАК Наименование,	|	втВходныеДанные.Номер КАК Номер,	|	втВходныеДанные.ДатаПроизводства КАК ДатаПроизводства,	|	втВходныеДанные.ГоденДо КАК ГоденДо,	|	ЕСТЬNULL(ВладельцыСерии.Ссылка, ВидыНоменклатуры.Ссылка) КАК ВидНоменклатуры,	|	ЕСТЬNULL(ВидыНоменклатуры.ИспользоватьСерии, ЛОЖЬ) КАК ИспользоватьСерии,	|	ЕСТЬNULL(ВладельцыСерии.АвтоматическиГенерироватьСерии, ВидыНоменклатуры.АвтоматическиГенерироватьСерии) КАК АвтоматическиГенерироватьСерии,	|	ЕСТЬNULL(ВладельцыСерии.ИспользоватьСрокГодностиСерии, ВидыНоменклатуры.ИспользоватьСрокГодностиСерии) КАК ИспользоватьСрокГодностиСерии,	|	ЕСТЬNULL(ВладельцыСерии.ИспользоватьНомерСерии, ВидыНоменклатуры.ИспользоватьНомерСерии) КАК ИспользоватьНомерСерии	|ПОМЕСТИТЬ втВходныеДанныеСВидомНоменклатуры	|ИЗ	|	втВходныеДанные КАК втВходныеДанные	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК СправочникНоменклатура	|		ПО втВходныеДанные.Номенклатура = СправочникНоменклатура.Ссылка	|		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.ВидыНоменклатуры КАК ВидыНоменклатуры	|		ПО (СправочникНоменклатура.ВидНоменклатуры = ВидыНоменклатуры.Ссылка)	|		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.ВидыНоменклатуры КАК ВладельцыСерии	|		ПО (СправочникНоменклатура.ВладелецСерий = ВладельцыСерии.Ссылка)	|	|СГРУППИРОВАТЬ ПО	|	втВходныеДанные.Номенклатура,	|	втВходныеДанные.ГоденДо,	|	втВходныеДанные.Наименование,	|	втВходныеДанные.Номер,	|	втВходныеДанные.ДатаПроизводства,	|	ЕСТЬNULL(ВладельцыСерии.Ссылка, ВидыНоменклатуры.Ссылка),	|	ЕСТЬNULL(ВидыНоменклатуры.ИспользоватьСерии, ЛОЖЬ),	|	ЕСТЬNULL(ВладельцыСерии.АвтоматическиГенерироватьСерии, ВидыНоменклатуры.АвтоматическиГенерироватьСерии),	|	ЕСТЬNULL(ВладельцыСерии.ИспользоватьСрокГодностиСерии, ВидыНоменклатуры.ИспользоватьСрокГодностиСерии),	|	ЕСТЬNULL(ВладельцыСерии.ИспользоватьНомерСерии, ВидыНоменклатуры.ИспользоватьНомерСерии)	|	|ИНДЕКСИРОВАТЬ ПО	|	втВходныеДанные.Номенклатура	|;	|	|////////////////////////////////////////////////////////////////////////////////	|ВЫБРАТЬ	|	втВходныеДанныеСВидомНоменклатуры.Номенклатура КАК Номенклатура,	|	втВходныеДанныеСВидомНоменклатуры.ВидНоменклатуры КАК ВидНоменклатуры,	|	СправочникНоменклатура.Наименование КАК Наименование,	|	МАКСИМУМ(ЕСТЬNULL(СерииНоменклатуры.Ссылка, ЗНАЧЕНИЕ(Справочник.СерииНоменклатуры.ПустаяСсылка))) КАК Серия	|ИЗ	|	втВходныеДанныеСВидомНоменклатуры КАК втВходныеДанныеСВидомНоменклатуры	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК СправочникНоменклатура	|		ПО втВходныеДанныеСВидомНоменклатуры.Номенклатура = СправочникНоменклатура.Ссылка	|		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.СерииНоменклатуры КАК СерииНоменклатуры	|		ПО (СерииНоменклатуры.ВидНоменклатуры = втВходныеДанныеСВидомНоменклатуры.ВидНоменклатуры)	|ГДЕ	|	втВходныеДанныеСВидомНоменклатуры.ИспользоватьСерии	|	И втВходныеДанныеСВидомНоменклатуры.АвтоматическиГенерироватьСерии	|	|СГРУППИРОВАТЬ ПО	|	втВходныеДанныеСВидомНоменклатуры.Номенклатура,	|	втВходныеДанныеСВидомНоменклатуры.ВидНоменклатуры,	|	СправочникНоменклатура.Наименование	|;	|	|////////////////////////////////////////////////////////////////////////////////	|ВЫБРАТЬ	|	втВходныеДанныеСВидомНоменклатуры.Номенклатура КАК Номенклатура,	|	втВходныеДанныеСВидомНоменклатуры.ВидНоменклатуры КАК ВидНоменклатуры,	|	втВходныеДанныеСВидомНоменклатуры.Наименование КАК Наименование,	|	втВходныеДанныеСВидомНоменклатуры.Номер КАК Номер,	|	втВходныеДанныеСВидомНоменклатуры.ДатаПроизводства КАК ДатаПроизводства,	|	втВходныеДанныеСВидомНоменклатуры.ГоденДо КАК ГоденДо,	|	МАКСИМУМ(ЕСТЬNULL(СерииНоменклатуры.Ссылка, ЗНАЧЕНИЕ(Справочник.СерииНоменклатуры.ПустаяСсылка))) КАК Серия	|ИЗ	|	втВходныеДанныеСВидомНоменклатуры КАК втВходныеДанныеСВидомНоменклатуры	|		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.СерииНоменклатуры КАК СерииНоменклатуры	|		ПО (СерииНоменклатуры.ВидНоменклатуры = втВходныеДанныеСВидомНоменклатуры.ВидНоменклатуры	|				И ВЫБОР	|					КОГДА втВходныеДанныеСВидомНоменклатуры.ИспользоватьНомерСерии	|						ТОГДА втВходныеДанныеСВидомНоменклатуры.Номер ПОДОБНО СерииНоменклатуры.Номер	|					ИНАЧЕ втВходныеДанныеСВидомНоменклатуры.Наименование ПОДОБНО СерииНоменклатуры.Наименование	|				КОНЕЦ	|				И ВЫБОР	|					КОГДА втВходныеДанныеСВидомНоменклатуры.ИспользоватьСрокГодностиСерии	|						ТОГДА втВходныеДанныеСВидомНоменклатуры.ГоденДо = СерииНоменклатуры.ГоденДо	|					ИНАЧЕ ИСТИНА	|				КОНЕЦ	|				И ВЫБОР	|					КОГДА втВходныеДанныеСВидомНоменклатуры.ИспользоватьСрокГодностиСерии	|						ТОГДА втВходныеДанныеСВидомНоменклатуры.ДатаПроизводства = СерииНоменклатуры.ДатаПроизводства	|					ИНАЧЕ ИСТИНА	|				КОНЕЦ)	|ГДЕ	|	втВходныеДанныеСВидомНоменклатуры.ИспользоватьСерии	|	И НЕ втВходныеДанныеСВидомНоменклатуры.АвтоматическиГенерироватьСерии	|	|СГРУППИРОВАТЬ ПО	|	втВходныеДанныеСВидомНоменклатуры.Номенклатура,	|	втВходныеДанныеСВидомНоменклатуры.ВидНоменклатуры,	|	втВходныеДанныеСВидомНоменклатуры.Наименование,	|	втВходныеДанныеСВидомНоменклатуры.Номер,	|	втВходныеДанныеСВидомНоменклатуры.ДатаПроизводства,	|	втВходныеДанныеСВидомНоменклатуры.ГоденДо";РезультатЗапроса = Запрос.ВыполнитьПакет(); РезультатАвтоматическиГенерировать = РезультатЗапроса[РезультатЗапроса.ВГраница()-1];РезультатНеАвтоматическиГенерировать = РезультатЗапроса[РезультатЗапроса.ВГраница()];Если Не РезультатАвтоматическиГенерировать.Пустой() Тогда		Выборка = РезультатАвтоматическиГенерировать.Выбрать();		Пока Выборка.Следующий() Цикл          				Если ЗначениеЗаполнено(Выборка.Серия) Тогда			Серия = Выборка.Серия;		Иначе			Серия = Справочники.СерииНоменклатуры.СоздатьЭлемент();			Серия.Заполнить(Выборка);			Серия.Записать();		КонецЕсли;				ПараметрыПоискаСтрок = Новый Структура();		ПараметрыПоискаСтрок.Вставить("Номенклатура", Выборка.Номенклатура);				Для Каждого НайденнаяСтрока Из ТаблицаСерий.НайтиСтроки(ПараметрыПоискаСтрок) Цикл 			НайденнаяСтрока.Серия = Серия.Ссылка;		КонецЦикла;			КонецЦикла;	КонецЕсли;Если Не РезультатНеАвтоматическиГенерировать.Пустой() Тогда		Выборка = РезультатНеАвтоматическиГенерировать.Выбрать();		Пока Выборка.Следующий() Цикл				Если ЗначениеЗаполнено(Выборка.Серия) Тогда			Серия = Выборка.Серия;		Иначе			Серия = Справочники.СерииНоменклатуры.СоздатьЭлемент();			ЗаполнитьЗначенияСвойств(Серия, Выборка);			Серия.Записать();		КонецЕсли;				ПараметрыПоискаСтрок = Новый Структура();		ПараметрыПоискаСтрок.Вставить("Номенклатура", Выборка.Номенклатура);		ПараметрыПоискаСтрок.Вставить("Наименование", Выборка.Наименование);		ПараметрыПоискаСтрок.Вставить("Номер", Выборка.Номер);		ПараметрыПоискаСтрок.Вставить("ГоденДо", Выборка.ГоденДо);		ПараметрыПоискаСтрок.Вставить("ДатаПроизводства", Выборка.ДатаПроизводства);				Для Каждого НайденнаяСтрока Из ТаблицаСерий.НайтиСтроки(ПараметрыПоискаСтрок) Цикл 			НайденнаяСтрока.Серия = Серия.Ссылка;		КонецЦикла;			КонецЦикла;	КонецЕсли;</Value>
					</Property>
				</Value>
			</Property>
		</Value>
	</Property>
</FixedStructure>